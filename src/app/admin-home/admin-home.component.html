<div *ngIf="showAdminScreen">
    <p>Hello {{firstName}},</p>
    <h3 class="alert alert-secondary text-center">The Silent Partner Administration Portal</h3>
    <!-- Nav tabs -->
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link active" data-toggle="tab" href="#dashboard">Dashboard</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#employees"
                *ngIf="roleType == 'AdminL1' || roleType == 'AdminL2'"
                (click)="getEmployeesList(0, '', true)">Employees</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#users" *ngIf="roleType == 'AdminL1' || roleType == 'AdminL3'"
                (click)="getCustomerList(0, '', true)">Users</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#accounts"
                *ngIf="roleType == 'AdminL1' || roleType == 'AdminL2' || roleType == 'AdminL3'"
                (click)="getAccountList(0, '', true)">Accounts</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#services" (click)="getServicesList(0, '', true)">Services</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#spare1">Spare</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#spare2">Spare</a>
        </li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content">
        <p></p>
        <p></p>
        <div class="tab-pane container active" id="dashboard">
            <h2>Dashboard</h2>
        </div>

        <div class="tab-pane container" id="employees">
            <div class="row">
                <div class="col-md-6">
                    <label> Search by Employee User Name : </label>
                    <input type="text" class="form-control"
                        (input)="showDataByPage('search', 0, 'employee', $event.target.value)" />
                </div>
            </div>
            <p></p>
            <table class="table table-bordered table-condensed">
                <thead>
                    <th>ID</th>
                    <th>UserName</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email Address</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Years Active</th>
                    <th>Status</th>
                </thead>
                <tbody>
                    <tr *ngFor="let employee of allEmployees">
                        <td>{{ employee?._id }}</td>
                        <td>{{ employee?.data?.userName }}</td>
                        <td>{{ employee?.data?.firstName }}</td>
                        <td>{{ employee?.data?.lastName }}</td>
                        <td>{{ employee?.data?.email }}</td>
                        <td>01/01/2020</td>
                        <td>01/01/2020</td>
                        <td>Active</td>
                        <td>Active</td>
                    </tr>
                </tbody>
            </table>
            <ul class="pagination justify-content-center">
                <li class="page-item" *ngIf="showFirst">
                    <div class="page-link active" (click)="showDataByPage('first', 0, 'employee', '')">First</div>
                </li>
                <li class="page-item" *ngIf="showPrevious">
                    <div class="page-link active" (click)="showDataByPage('previous', 10, 'employee', '')">Previous
                    </div>
                </li>
                <li class="page-item" *ngFor="let times of ' '.repeat(totalPages).split('');let i = index">
                    <div class="page-link active" (click)="showDataByPage('', i+'0', 'employee', '')">{{i+1}}</div>
                </li>
                <li class="page-item" *ngIf="showNext">
                    <div class="page-link active" (click)="showDataByPage('next', 10, 'employee', '')">Next</div>
                </li>
                <li class="page-item" *ngIf="showLast">
                    <div class="page-link active" (click)="showDataByPage('last', 0, 'employee', '')">Last</div>
                </li>
            </ul>
        </div>

        <div class="tab-pane container fade" id="users">
            <div class="row">
                <div class="col-md-6">
                    <label> Search by Customer User Name : </label>
                    <input type="text" class="form-control"
                        (input)="showDataByPage('search', 0, 'customer', $event.target.value)" />
                </div>
            </div>
            <p></p>
            <table class="table table-bordered table-condensed">
                <thead>
                    <th>ID</th>
                    <th>UserName</th>
                    <th>Email Address</th>
                    <th>Status</th>
                    <th>Accounts</th>
                    <th>Action</th>
                </thead>
                <tbody>
                    <tr *ngFor="let customer of allCustomers;let i = index">
                        <td>{{ customer?.id }}</td>
                        <td>{{ customer?.userName }}</td>
                        <td>{{ customer?.email }}</td>
                        <td>{{ customer?.status }}</td>
                        <td>{{ customer?.accountsAttached }}</td>
                        <td>
                            View |
                            <span *ngIf="customer?.status == 'Active'" class="link"
                                (click)="disableCustomer(customer.id, i)">Disable</span>
                            <span *ngIf="customer?.status == 'Inactive'" class="link"
                                (click)="enableCustomer(customer.id, i)">Enable</span>
                        </td>
                        <!-- <td>View | Disable</td> -->
                    </tr>
                </tbody>
            </table>
            <ul class="pagination justify-content-center">
                <li class="page-item" *ngIf="showFirst">
                    <div class="page-link active" (click)="showDataByPage('first', 0, 'customer', '')">First</div>
                </li>
                <li class="page-item" *ngIf="showPrevious">
                    <div class="page-link active" (click)="showDataByPage('previous', 10, 'customer', '')">Previous
                    </div>
                </li>
                <li class="page-item" *ngFor="let times of ' '.repeat(totalPages).split('');let i = index">
                    <div class="page-link active" (click)="showDataByPage('', i+'0', 'customer', '')">{{i+1}}</div>
                </li>
                <li class="page-item" *ngIf="showNext">
                    <div class="page-link active" (click)="showDataByPage('next', 10, 'customer', '')">Next</div>
                </li>
                <li class="page-item" *ngIf="showLast">
                    <div class="page-link active" (click)="showDataByPage('last', 0, 'customer', '')">Last</div>
                </li>
            </ul>
        </div>

        <div class="tab-pane container fade" id="accounts">
            <div class="row">
                <div class="col-md-6">
                    <label> Search by Account Name : </label>
                    <input type="text" class="form-control"
                        (input)="showDataByPage('search', 0, 'account', $event.target.value)" />
                </div>
            </div>
            <p></p>
            <table class="table table-bordered table-condensed">
                <thead>
                    <th>Account ID</th>
                    <th>Account Name</th>
                    <th>Linked Users</th>
                    <th>Linked Services</th>
                    <th>Status</th>
                </thead>
                <tbody>
                    <tr *ngFor="let account of allAccounts">
                        <td>{{ account?.id }}</td>
                        <td>{{ account?.accountName }}</td>
                        <td>{{ account?.linkedUsers }}</td>
                        <td>{{ account?.linkedServices }}</td>
                        <td>Active</td>
                    </tr>
                </tbody>
            </table>
            <ul class="pagination justify-content-center">
                <li class="page-item" *ngIf="showFirst">
                    <div class="page-link active" (click)="showDataByPage('first', 0, 'account', '')">First</div>
                </li>
                <li class="page-item" *ngIf="showPrevious">
                    <div class="page-link active" (click)="showDataByPage('previous', 10, 'account', '')">Previous</div>
                </li>
                <li class="page-item" *ngFor="let times of ' '.repeat(totalPages).split('');let i = index">
                    <div class="page-link active" (click)="showDataByPage('', i+'0', 'account', '')">{{i+1}}</div>
                </li>
                <li class="page-item" *ngIf="showNext">
                    <div class="page-link active" (click)="showDataByPage('next', 10, 'account', '')">Next</div>
                </li>
                <li class="page-item" *ngIf="showLast">
                    <div class="page-link active" (click)="showDataByPage('last', 0, 'account', '')">Last</div>
                </li>
            </ul>
        </div>

        <div class="tab-pane container fade" id="services">
            <table class="table table-bordered table-condensed">
                <thead>
                    <th>Service ID</th>
                    <th>Service Type</th>
                    <th>Service Name</th>
                    <th>Status</th>
                </thead>
                <tbody>
                    <tr *ngFor="let service of allServices">
                        <td>{{ service?._id }}</td>
                        <td>
                            {{ service?.data?.addressService?.data?.serviceType }}
                            {{ service?.data?.emailService?.data?.serviceType }}
                            {{ service?.data?.callAnsweringService?.data?.serviceType }}
                            {{ service?.data?.liveChatService?.data?.serviceType }}
                        </td>
                        <td>
                            {{ service?.data?.addressService?.data?.addressServiceName }}
                            {{ service?.data?.emailService?.data?.emailServiceName }}
                            {{ service?.data?.callAnsweringService?.data?.callAnsweringServiceName }}
                            {{ service?.data?.liveChatService?.data?.liveChatServiceName }}
                        </td>
                        <td>
                            {{ service?.data?.addressService?.data?.addressStatus }}
                            {{ service?.data?.emailService?.data?.emailStatus }}
                            {{ service?.data?.callAnsweringService?.data?.callAnsweringStatus }}
                            {{ service?.data?.liveChatService?.data?.liveChatStatus }}
                        </td>
                    </tr>
                </tbody>
            </table>
            <ul class="pagination justify-content-center">
                <li class="page-item" *ngIf="showFirst">
                    <div class="page-link active" (click)="showDataByPage('first', 0, 'service', '')">First</div>
                </li>
                <li class="page-item" *ngIf="showPrevious">
                    <div class="page-link active" (click)="showDataByPage('previous', 10, 'service', '')">Previous</div>
                </li>
                <li class="page-item" *ngFor="let times of ' '.repeat(totalPages).split('');let i = index">
                    <div class="page-link active" (click)="showDataByPage('', i+'0', 'service', '')">{{i+1}}</div>
                </li>
                <li class="page-item" *ngIf="showNext">
                    <div class="page-link active" (click)="showDataByPage('next', 10, 'service', '')">Next</div>
                </li>
                <li class="page-item" *ngIf="showLast">
                    <div class="page-link active" (click)="showDataByPage('last', 0, 'service', '')">Last</div>
                </li>
            </ul>
        </div>

        <div class="tab-pane container fade" id="spare1">
            <h2>Spare</h2>
        </div>

        <div class="tab-pane container fade" id="spare2">
            <h2>Spare</h2>
        </div>
    </div>
</div>
<div *ngIf="loading" class="loading">Loading&#8230;</div>